{% for hebergement in hebergements %}
    <tr>
        <td>
            <div class="d-flex align-items-center">
                {% if hebergement.imagePrincipale %}
                    {% if hebergement.imagePrincipale starts with 'http' %}
                        <img src="{{ hebergement.imagePrincipale }}" alt="" 
                             style="width: 40px; height: 40px; border-radius: 10px; object-fit: cover; margin-right: 12px; border: 1px solid #e2e8f0;">
                    {% else %}
                        <img src="{{ asset('uploads/' ~ hebergement.imagePrincipale) }}" alt="" 
                             style="width: 40px; height: 40px; border-radius: 10px; object-fit: cover; margin-right: 12px; border: 1px solid #e2e8f0;">
                    {% endif %}
                {% else %}
                    <div style="width: 40px; height: 40px; border-radius: 10px; background: linear-gradient(135deg, #e2e8f0, #cbd5e1); display: flex; align-items: center; justify-content: center; margin-right: 12px; color: #64748b; font-weight: bold;">
                        {{ hebergement.nom|slice(0,1)|upper }}
                    </div>
                {% endif %}
                <div>
                    <div style="font-weight: 600; color: #0f172a;">{{ hebergement.nom }}</div>
                    <div style="font-size: 0.75rem; color: #94a3b8;">{{ hebergement.categorie.nom|default('Hébergement') }}</div>
                </div>
            </div>
        </td>
        <td style="color: #64748b;">{{ hebergement.adresse }}</td>
        <td style="color: #64748b;">{{ hebergement.ville }}</td>
        <td>
            <span class="badge-role stars">
                {{ hebergement.nbEtoiles }} <i class="bi bi-star-fill" style="font-size: 0.8em; margin-left: 2px; color: #f59e0b;"></i>
            </span>
        </td>
        <td>
            {% if hebergement.actif %}
                <span class="badge-verified yes">Actif</span>
            {% else %}
                <span class="badge-verified no">Inactif</span>
            {% endif %}
        </td>
        <td class="actions">
            <div class="d-flex gap-1">
                <a href="{{ path('app_hebergement_show', {'id': hebergement.id}) }}" class="btn-action view" title="Voir">
                    <i class="bi bi-eye"></i>
                </a>
                <a href="{{ path('app_hebergement_edit', {'id': hebergement.id}) }}" class="btn-action edit" title="Modifier">
                    <i class="bi bi-pencil"></i>
                </a>
                <form method="post" action="{{ path('app_hebergement_delete', {'id': hebergement.id}) }}" onsubmit="return confirm('Êtes-vous sûr de vouloir supprimer cet hébergement ?');" style="display: inline-block;">
                    <input type="hidden" name="_token" value="{{ csrf_token('delete' ~ hebergement.id) }}">
                    <button class="btn-action delete" title="Supprimer">
                        <i class="bi bi-trash"></i>
                    </button>
                </form>
            </div>
        </td>
    </tr>
{% else %}
    <tr>
        <td colspan="6" class="text-center py-5">
            <div style="color: #94a3b8;">
                <i class="bi bi-inbox fa-3x mb-3"></i>
                <p>Aucun hébergement trouvé.</p>
            </div>
        </td>
    </tr>
{% endfor %}
