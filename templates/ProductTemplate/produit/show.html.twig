{% extends 'BackOffice/base.html.twig' %}

{% block title %}{{ produit.nom }} - Admin{% endblock %}

{% block body %}
<div class="container py-4">
    {{ include('admin_nav.html.twig') }}
    <h1>{{ produit.nom }}</h1>

    <div class="row mt-4">
        <div class="col-md-8">
            <h3>Détails</h3>
            <dl class="row">
                <dt class="col-sm-3">ID</dt>
                <dd class="col-sm-9">{{ produit.idProduit }}</dd>
                <dt class="col-sm-3">Nom</dt>
                <dd class="col-sm-9">{{ produit.nom }}</dd>
                <dt class="col-sm-3">Prix</dt>
                <dd class="col-sm-9">{{ produit.prix }} EUR</dd>
                <dt class="col-sm-3">Stock</dt>
                <dd class="col-sm-9">{{ produit.stock }}</dd>
                <dt class="col-sm-3">Catégorie</dt>
                <dd class="col-sm-9">{{ produit.categorie ? produit.categorie.nom : '–' }}</dd>
                {% if produit.image %}
                <dt class="col-sm-3">Image</dt>
                <dd class="col-sm-9"><img src="{{ produit.image }}" alt="{{ produit.nom }}" style="max-width: 300px;"></dd>
                {% endif %}
            </dl>
        </div>
        <div class="col-md-4">
            <h3>Actions</h3>
            <a href="{{ path('app_produit_edit', { id: produit.idProduit }) }}" class="btn btn-warning d-block mb-2">Modifier</a>
            <form method="post" action="{{ path('app_produit_delete', { id: produit.idProduit }) }}" onsubmit="return confirm('Êtes-vous sûr de vouloir supprimer ce produit ?');">
                <input type="hidden" name="_token" value="{{ csrf_token('delete_produit_' ~ produit.idProduit) }}">
                <button type="submit" class="btn btn-danger d-block mb-2 w-100">Supprimer</button>
            </form>
        </div>
    </div>

    <a href="{{ path('app_produit_index') }}" class="btn btn-secondary mt-3">Retour à la liste</a>
</div>
{% endblock %}
