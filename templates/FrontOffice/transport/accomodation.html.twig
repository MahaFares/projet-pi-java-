{% extends 'base.html.twig' %}

{% block title %}Transport | EcoTrip{% endblock %}

{% block body %}
    <!--================Breadcrumb Area =================-->
    <section class="breadcrumb_area">
        <div class="overlay bg-parallax" data-stellar-ratio="0.8" data-stellar-vertical-offset="0" data-background=""></div>
        <div class="container">
            <div class="page-cover text-center">
                <h2 class="page-cover-tittle">Transport</h2>
                <ol class="breadcrumb">
                    <li><a href="{{ path('app_home') }}">Home</a></li>
                    <li class="active">Transport</li>
                </ol>
            </div>
        </div>
    </section>
    <!--================Breadcrumb Area =================-->

    <!--================ Transport Area  =================-->
    <section class="accomodation_area section_gap">
        <div class="container">
            <div class="section_title text-center">
                <h2 class="title_color">Available Transports</h2>
                <p>Choose your eco-friendly transport option for your journey</p>
            </div>
            <div class="row mb-4">
                <form method="get" class="row g-2 w-100">
                    <div class="col-md-3">
                        <input type="text" name="type" value="{{ filters.type|default('') }}" class="form-control" placeholder="Type (Ex: minivan)">
                    </div>
                    <div class="col-md-2">
                        <input type="number" step="0.01" name="minPrice" value="{{ filters.minPrice is not null ? filters.minPrice : '' }}" class="form-control" placeholder="Prix min (DT)">
                    </div>
                    <div class="col-md-2">
                        <input type="number" step="0.01" name="maxPrice" value="{{ filters.maxPrice is not null ? filters.maxPrice : '' }}" class="form-control" placeholder="Prix max (DT)">
                    </div>
                    <div class="col-md-2">
                        <input type="number" name="minCapacity" value="{{ filters.minCapacity is not null ? filters.minCapacity : '' }}" class="form-control" placeholder="CapacitÃ© min">
                    </div>
                    <div class="col-md-2">
                        <select name="available" class="form-select">
                            <option value="">Tous</option>
                            <option value="1" {% if filters.available is same as(true) %}selected{% endif %}>Disponible</option>
                            <option value="0" {% if filters.available is same as(false) %}selected{% endif %}>Indisponible</option>
                        </select>
                    </div>
                    <div class="col-md-1 d-grid">
                        <button type="submit" class="btn btn-primary">Filtrer</button>
                    </div>
                </form>
            </div>
            <div class="row mb_30">
                {% if transports is defined and transports|length > 0 %}
                    {% for transport in transports %}
                    <div class="col-lg-3 col-sm-6 mb-4">
                        <div class="accomodation_item text-center">
                            <div class="hotel_img" style="position: relative; overflow: hidden; border-radius: 8px;">
                                {% if transport.image %}
                                    <img src="{{ asset('uploads/transports/' ~ transport.image) }}" alt="{{ transport.type }}" style="height: 250px; object-fit: cover; width: 100%; display: block;">
                                {% else %}
                                    <img src="{{ asset('images/transport.jpg') }}" alt="{{ transport.type }}" style="height: 250px; object-fit: cover; width: 100%; display: block;">
                                {% endif %}
                                <a href="#" class="btn btn-success button_hover" style="position: absolute; bottom: 15px; left: 50%; transform: translateX(-50%); padding: 10px 25px; font-weight: bold; z-index: 10;">
                                    <i class="fa fa-cart-plus"></i> Book Now
                                </a>
                            </div>
                            <a href="#"><h4 class="sec_h4">{{ transport.type }}</h4></a>
                            <div class="transport-details" style="padding: 10px;">
                                <p><strong>Capacity:</strong> {{ transport.capacite }} passengers</p>
                                <p><strong>CO2 Emission:</strong> {{ transport.emissionco2 }} kg</p>
                                <h5><span style="color: #2196F3; font-size: 1.3rem;">{{ transport.prixparpersonne }} DT</span><small>/person</small></h5>
                            </div>
                        </div>
                    </div>
                    {% endfor %}
                {% else %}
                    <div class="col-12">
                        <div class="alert alert-info text-center">
                            <p>No transports available at the moment. Please check back later!</p>
                        </div>
                    </div>
                {% endif %}
            </div>
        </div>
    </section>
    <!--================ Transport Area  =================-->
{% endblock %}
