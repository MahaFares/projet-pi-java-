{{ form_start(form, {'attr': {'class': 'form', 'novalidate': 'novalidate', 'enctype': 'multipart/form-data'}}) }}
    {% if form.vars.errors|length > 0 %}
        <div class="alert alert-danger" role="alert">
            <h4 class="alert-heading"><i class="fa fa-exclamation-circle"></i> Erreurs de validation</h4>
            {{ form_errors(form) }}
        </div>
    {% endif %}

    <div class="row">
        <div class="col-md-6 mb-3">
            {{ form_label(form.type, 'Type de Transport', {'label_attr': {'class': 'form-label'}}) }}
            {{ form_widget(form.type, {'attr': {'class': 'form-control', 'placeholder': 'Ex: Bus, Voiture, Train'}}) }}
            {{ form_errors(form.type) }}
        </div>
        <div class="col-md-6 mb-3">
            {{ form_label(form.capacite, 'Capacité (passagers)', {'label_attr': {'class': 'form-label'}}) }}
            {{ form_widget(form.capacite, {'attr': {'class': 'form-control', 'placeholder': 'Nombre de passagers', 'type': 'number'}}) }}
            {{ form_errors(form.capacite) }}
        </div>
    </div>

    <div class="row">
        <div class="col-md-6 mb-3">
            {{ form_label(form.emissionco2, 'Émission CO2 (kg)', {'label_attr': {'class': 'form-label'}}) }}
            {{ form_widget(form.emissionco2, {'attr': {'class': 'form-control', 'placeholder': 'Ex: 50.5', 'step': '0.01'}}) }}
            {{ form_errors(form.emissionco2) }}
        </div>
        <div class="col-md-6 mb-3">
            {{ form_label(form.prixparpersonne, 'Prix par Personne (DT)', {'label_attr': {'class': 'form-label'}}) }}
            {{ form_widget(form.prixparpersonne, {'attr': {'class': 'form-control', 'placeholder': 'Ex: 25.50 DT', 'step': '0.01'}}) }}
            {{ form_errors(form.prixparpersonne) }}
        </div>
    </div>

    <div class="mb-3" style="border: 2px dashed #007bff; padding: 20px; border-radius: 8px; background-color: #f8f9fa;">
        {% if form.vars.data.id and form.vars.data.image %}
        <div style="margin-bottom: 15px;">
            <p style="font-weight: bold; margin-bottom: 10px;">Image actuelle :</p>
            <img src="{{ asset('uploads/transports/' ~ form.vars.data.image) }}" alt="{{ form.vars.data.type }}" style="max-width: 200px; border-radius: 8px; box-shadow: 0 2px 8px rgba(0,0,0,0.1);">
        </div>
        {% endif %}
        <label class="form-label" style="font-size: 1.1rem; font-weight: bold; color: #007bff;">
            <i class="fa fa-image"></i> 
            {% if form.vars.data.id %}
                Nouvelle Image du Transport
            {% else %}
                Image du Transport
            {% endif %}
        </label>
        {{ form_widget(form.image, {'attr': {'class': 'form-control', 'accept': 'image/*'}}) }}
        <small class="text-muted" style="display: block; margin-top: 8px;">
            {% if form.vars.data.id %}
                Laissez vide pour garder l'image actuelle. • Max 5MB • Formats: JPEG, PNG, GIF, WebP
            {% else %}
                Max 5MB • Formats: JPEG, PNG, GIF, WebP
            {% endif %}
        </small>
        {{ form_errors(form.image) }}
    </div>

    <div class="mb-3">
        <div class="form-check">
            {{ form_widget(form.disponible, {'attr': {'class': 'form-check-input'}}) }}
            {{ form_label(form.disponible, 'Disponible pour la réservation', {'label_attr': {'class': 'form-check-label'}}) }}
        </div>
        {{ form_errors(form.disponible) }}
    </div>

    <div class="d-grid gap-2 d-md-flex justify-content-md-start">
        <button type="submit" class="btn btn-primary btn-lg">
            <i class="fa fa-save"></i> {{ button_label|default('Enregistrer') }}
        </button>
        <a href="{{ path('app_transport_index') }}" class="btn btn-secondary btn-lg">
            <i class="fa fa-times"></i> Annuler
        </a>
    </div>
{{ form_end(form) }}
